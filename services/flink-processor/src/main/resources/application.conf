patternalarm {
  kafka {
    bootstrap-servers = "localhost:9092"
    bootstrap-servers = ${?KAFKA_BOOTSTRAP_SERVERS}  # ✅ Override from env

    topic = "all-transactions"
    topic = ${?KAFKA_TOPIC}

    group-id = "flink-fraud-processor"
    group-id = ${?KAFKA_GROUP_ID}

    auto-offset-reset = "earliest"
  }

  fastapi {
    url = "http://localhost:8000"
    url = ${?FASTAPI_URL}  # ✅ Override from env

    timeout-ms = 10000
    timeout-ms = ${?FASTAPI_TIMEOUT_MS}

    max-concurrent-requests = 100
  }

  database {
    url = "jdbc:postgresql://localhost:5432/patternalarm"
    url = ${?DATABASE_URL}  # ✅ Override from env

    user = "dbadmin"
    user = ${?DATABASE_USER}

    password = "password"
    password = ${?DATABASE_PASSWORD}

    pool {
      initial-size = 5
      max-size = 20
      connection-timeout-ms = 5000
    }
  }

  flink {
    checkpointing-interval-ms = 60000

    windowing {
      size-minutes = 1
      lateness-seconds = 30
    }

    fraud-detection {
      score-threshold = 70
    }
  }
}